{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let UsuarioCadastrarComponent = class UsuarioCadastrarComponent {\n  constructor(client, router) {\n    this.client = client;\n    this.router = router;\n    this.episSelecionados = [];\n    this.episDisponiveis = [];\n  }\n  ngOnInit() {\n    // Busque a lista de EPIS disponíveis\n    this.client.get(\"https://localhost:7144/EpiList/EPI/listar\").subscribe(epis => {\n      this.episDisponiveis = epis;\n      // Inicialize a variável episSelecionados para cada EPI\n      this.episSelecionados = epis.map(epi => ({\n        epiID: Number(epi.epiID),\n        selecionado: false\n      }));\n    });\n  }\n  cadastrar() {\n    // Filtrar os EPIS selecionados\n    const episSelecionadosIDs = this.episSelecionados.filter(epi => epi.selecionado).map(epi => epi.epiID);\n    const usuario = {\n      nome: this.nome,\n      email: this.email,\n      telefone: this.telefone,\n      senha: this.senha,\n      cpf: this.cpf,\n      cargo: this.cargo,\n      episId: episSelecionadosIDs\n    };\n    console.log(usuario);\n    this.client.post('https://localhost:7144/EpiList/Usuario/cadastrar', usuario).subscribe({\n      next: data => {\n        console.log(data);\n        this.router.navigate(['pages/Usuario/listar']);\n      },\n      error: erro => {\n        console.log(erro);\n      }\n    });\n  }\n};\nUsuarioCadastrarComponent = __decorate([Component({\n  selector: 'app-usuario-cadastrar',\n  templateUrl: './usuario-cadastrar.component.html',\n  styleUrls: ['./usuario-cadastrar.component.css']\n})\n// export class UsuarioCadastrarComponent {\n//   nome!: string;\n//   email!: string;\n//   telefone!: string;\n//   senha!: string;\n//   cpf!: string;\n//   cargo!: string;\n//   //episSelecionados: number[] = [];\n//   episSelecionados: { epiID: number, selecionado: boolean }[] = [];\n//   episDisponiveis: Epi[] = [];\n//   constructor(private client: HttpClient,private router: Router) {}\n//   ngOnInit(): void {\n//     // Busque a lista de EPIS disponíveis\n//     this.client.get<Epi[]>(\"https://localhost:7144/EpiList/EPI/listar\").subscribe((epis: Epi[]) => {\n//       this.episDisponiveis = epis;\n//     });\n//   }\n//   cadastrar(): void {\n//     const usuario = {\n//       nome: this.nome,\n//       email: this.email,\n//       telefone: this.telefone,\n//       senha: this.senha,\n//       cpf: this.cpf,\n//       cargo: this.cargo,\n//       episId: this.episSelecionados\n//     };\n//     console.log(usuario);\n//     this.client.post<any>('https://localhost:7144/EpiList/Usuario/cadastrar', usuario).subscribe({\n//       next: (data) => {\n//         console.log(data);\n//         this.router.navigate(['pages/Usuario/listar']);\n//       },\n//       error: (erro) => {\n//         console.log(erro);\n//       },\n//     });\n//   }\n// }\n], UsuarioCadastrarComponent);","map":{"version":3,"names":["Component","UsuarioCadastrarComponent","constructor","client","router","episSelecionados","episDisponiveis","ngOnInit","get","subscribe","epis","map","epi","epiID","Number","selecionado","cadastrar","episSelecionadosIDs","filter","usuario","nome","email","telefone","senha","cpf","cargo","episId","console","log","post","next","data","navigate","error","erro","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Pichau\\Desktop\\v2\\Projeto-Eplist\\FRONT\\src\\app\\pages\\Usuario\\usuario-cadastrar\\usuario-cadastrar\\usuario-cadastrar.component.ts"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Epi } from 'src/app/models/epi.model';\n\n@Component({\n  selector: 'app-usuario-cadastrar',\n  templateUrl: './usuario-cadastrar.component.html',\n  styleUrls: ['./usuario-cadastrar.component.css']\n})\n// export class UsuarioCadastrarComponent {\n//   nome!: string;\n//   email!: string;\n//   telefone!: string;\n//   senha!: string;\n//   cpf!: string;\n//   cargo!: string;\n//   //episSelecionados: number[] = [];\n//   episSelecionados: { epiID: number, selecionado: boolean }[] = [];\n//   episDisponiveis: Epi[] = [];\n//   constructor(private client: HttpClient,private router: Router) {}\n\n//   ngOnInit(): void {\n//     // Busque a lista de EPIS disponíveis\n//     this.client.get<Epi[]>(\"https://localhost:7144/EpiList/EPI/listar\").subscribe((epis: Epi[]) => {\n//       this.episDisponiveis = epis;\n//     });\n\n//   }\n\n//   cadastrar(): void {\n\n//     const usuario = {\n//       nome: this.nome,\n//       email: this.email,\n//       telefone: this.telefone,\n//       senha: this.senha,\n//       cpf: this.cpf,\n//       cargo: this.cargo,\n//       episId: this.episSelecionados\n//     };\n//     console.log(usuario);\n\n//     this.client.post<any>('https://localhost:7144/EpiList/Usuario/cadastrar', usuario).subscribe({\n//       next: (data) => {\n//         console.log(data);\n//         this.router.navigate(['pages/Usuario/listar']);\n//       },\n//       error: (erro) => {\n//         console.log(erro);\n//       },\n//     });\n//   }\n\n// }\nexport class UsuarioCadastrarComponent {\n  nome!: string;\n  email!: string;\n  telefone!: string;\n  senha!: string;\n  cpf!: string;\n  cargo!: string;\n  episSelecionados: { epiID: number, selecionado: boolean }[] = [];\n  episDisponiveis: Epi[] = [];\n\n  constructor(private client: HttpClient, private router: Router) {}\n\n  ngOnInit(): void {\n    // Busque a lista de EPIS disponíveis\n    this.client.get<Epi[]>(\"https://localhost:7144/EpiList/EPI/listar\").subscribe((epis: Epi[]) => {\n      this.episDisponiveis = epis;\n      // Inicialize a variável episSelecionados para cada EPI\n      this.episSelecionados = epis.map((epi) => ({\n        epiID: Number(epi.epiID), // Converte para número\n        selecionado: false,\n      }));\n    });\n  }\n  \n\n  cadastrar(): void {\n    // Filtrar os EPIS selecionados\n    const episSelecionadosIDs = this.episSelecionados\n      .filter((epi) => epi.selecionado)\n      .map((epi) => epi.epiID);\n\n    const usuario = {\n      nome: this.nome,\n      email: this.email,\n      telefone: this.telefone,\n      senha: this.senha,\n      cpf: this.cpf,\n      cargo: this.cargo,\n      episId: episSelecionadosIDs,\n    };\n    console.log(usuario);\n\n    this.client.post<any>('https://localhost:7144/EpiList/Usuario/cadastrar', usuario).subscribe({\n      next: (data) => {\n        console.log(data);\n        this.router.navigate(['pages/Usuario/listar']);\n      },\n      error: (erro) => {\n        console.log(erro);\n      },\n    });\n  }\n}\n\n"],"mappings":";AACA,SAASA,SAAS,QAAQ,eAAe;AAsDlC,WAAMC,yBAAyB,GAA/B,MAAMA,yBAAyB;EAUpCC,YAAoBC,MAAkB,EAAUC,MAAc;IAA1C,KAAAD,MAAM,GAANA,MAAM;IAAsB,KAAAC,MAAM,GAANA,MAAM;IAHtD,KAAAC,gBAAgB,GAA8C,EAAE;IAChE,KAAAC,eAAe,GAAU,EAAE;EAEsC;EAEjEC,QAAQA,CAAA;IACN;IACA,IAAI,CAACJ,MAAM,CAACK,GAAG,CAAQ,2CAA2C,CAAC,CAACC,SAAS,CAAEC,IAAW,IAAI;MAC5F,IAAI,CAACJ,eAAe,GAAGI,IAAI;MAC3B;MACA,IAAI,CAACL,gBAAgB,GAAGK,IAAI,CAACC,GAAG,CAAEC,GAAG,KAAM;QACzCC,KAAK,EAAEC,MAAM,CAACF,GAAG,CAACC,KAAK,CAAC;QACxBE,WAAW,EAAE;OACd,CAAC,CAAC;IACL,CAAC,CAAC;EACJ;EAGAC,SAASA,CAAA;IACP;IACA,MAAMC,mBAAmB,GAAG,IAAI,CAACZ,gBAAgB,CAC9Ca,MAAM,CAAEN,GAAG,IAAKA,GAAG,CAACG,WAAW,CAAC,CAChCJ,GAAG,CAAEC,GAAG,IAAKA,GAAG,CAACC,KAAK,CAAC;IAE1B,MAAMM,OAAO,GAAG;MACdC,IAAI,EAAE,IAAI,CAACA,IAAI;MACfC,KAAK,EAAE,IAAI,CAACA,KAAK;MACjBC,QAAQ,EAAE,IAAI,CAACA,QAAQ;MACvBC,KAAK,EAAE,IAAI,CAACA,KAAK;MACjBC,GAAG,EAAE,IAAI,CAACA,GAAG;MACbC,KAAK,EAAE,IAAI,CAACA,KAAK;MACjBC,MAAM,EAAET;KACT;IACDU,OAAO,CAACC,GAAG,CAACT,OAAO,CAAC;IAEpB,IAAI,CAAChB,MAAM,CAAC0B,IAAI,CAAM,kDAAkD,EAAEV,OAAO,CAAC,CAACV,SAAS,CAAC;MAC3FqB,IAAI,EAAGC,IAAI,IAAI;QACbJ,OAAO,CAACC,GAAG,CAACG,IAAI,CAAC;QACjB,IAAI,CAAC3B,MAAM,CAAC4B,QAAQ,CAAC,CAAC,sBAAsB,CAAC,CAAC;MAChD,CAAC;MACDC,KAAK,EAAGC,IAAI,IAAI;QACdP,OAAO,CAACC,GAAG,CAACM,IAAI,CAAC;MACnB;KACD,CAAC;EACJ;CACD;AApDYjC,yBAAyB,GAAAkC,UAAA,EAlDrCnC,SAAS,CAAC;EACToC,QAAQ,EAAE,uBAAuB;EACjCC,WAAW,EAAE,oCAAoC;EACjDC,SAAS,EAAE,CAAC,mCAAmC;CAChD;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA,C,EACarC,yBAAyB,CAoDrC"},"metadata":{},"sourceType":"module","externalDependencies":[]}