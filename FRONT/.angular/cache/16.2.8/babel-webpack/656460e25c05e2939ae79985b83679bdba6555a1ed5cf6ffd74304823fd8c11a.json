{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction UnidadeCadastrarComponent_option_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const usuario_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", usuario_r2.usuarioID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(usuario_r2.nome);\n  }\n}\nfunction UnidadeCadastrarComponent_option_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const usuario_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", usuario_r3.usuarioID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(usuario_r3.nome);\n  }\n}\nexport class UnidadeCadastrarComponent {\n  constructor(client, router) {\n    this.client = client;\n    this.router = router;\n    //usuarios: Usuario[]=[]; // Suponha que você tenha uma lista de usuários aqui\n    this.usuariosgestor = []; // Suponha que você tenha uma lista de usuários aqui\n    this.usuariostecnico = []; // Suponha que você tenha uma lista de usuários aqui\n  }\n\n  ngOnInit() {\n    this.client.get(\"https://localhost:7144/EpiList/Usuario/listar\").subscribe({\n      next: data => {\n        //this.usuarios = data;\n        this.usuariosgestor = data.filter(dado => dado.cargo == \"gestor\");\n        this.usuariostecnico = data.filter(dado => dado.cargo == \"tecnico\");\n      },\n      error: erro => {\n        console.log(erro);\n      }\n    });\n  }\n  cadastrarUnidade() {\n    let esquema = {\n      nome: this.unidadeNome,\n      usuariosId: [this.gestorSelecionado, this.tecnicoSelecionado]\n    };\n    console.log(esquema);\n    this.client.post(\"https://localhost:7144/EpiList/Unidade/cadastrar\", esquema).subscribe({\n      next: data => {\n        console.log(data);\n        this.router.navigate(['pages/Epi/listar']);\n      },\n      error: erro => {\n        console.log(erro);\n      }\n    });\n  }\n  static #_ = this.ɵfac = function UnidadeCadastrarComponent_Factory(t) {\n    return new (t || UnidadeCadastrarComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: UnidadeCadastrarComponent,\n    selectors: [[\"app-unidade-cadastrar\"]],\n    decls: 18,\n    vars: 5,\n    consts: [[\"for\", \"unidadeNome\"], [\"id\", \"unidadeNome\", \"name\", \"unidadeNome\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"gestor\"], [\"id\", \"gestor\", \"name\", \"gestor\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"tecnico\"], [\"id\", \"tecnico\", \"name\", \"tecnico\", 3, \"ngModel\", \"ngModelChange\"], [3, \"click\"], [\"routerLink\", \"/pages/Unidade/cadastrar\"], [3, \"value\"]],\n    template: function UnidadeCadastrarComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p\");\n        i0.ɵɵtext(1, \"unidade-cadastrar works!\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\")(3, \"label\", 0);\n        i0.ɵɵtext(4, \"Nome da Unidade:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"input\", 1);\n        i0.ɵɵlistener(\"ngModelChange\", function UnidadeCadastrarComponent_Template_input_ngModelChange_5_listener($event) {\n          return ctx.unidadeNome = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"label\", 2);\n        i0.ɵɵtext(7, \"Gestor:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"select\", 3);\n        i0.ɵɵlistener(\"ngModelChange\", function UnidadeCadastrarComponent_Template_select_ngModelChange_8_listener($event) {\n          return ctx.gestorSelecionado = $event;\n        });\n        i0.ɵɵtemplate(9, UnidadeCadastrarComponent_option_9_Template, 2, 2, \"option\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"label\", 5);\n        i0.ɵɵtext(11, \"T\\u00E9cnico:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"select\", 6);\n        i0.ɵɵlistener(\"ngModelChange\", function UnidadeCadastrarComponent_Template_select_ngModelChange_12_listener($event) {\n          return ctx.tecnicoSelecionado = $event;\n        });\n        i0.ɵɵtemplate(13, UnidadeCadastrarComponent_option_13_Template, 2, 2, \"option\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"button\", 7);\n        i0.ɵɵlistener(\"click\", function UnidadeCadastrarComponent_Template_button_click_14_listener() {\n          return ctx.cadastrarUnidade();\n        });\n        i0.ɵɵtext(15, \"Cadastrar Unidade\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(16, \"a\", 8);\n        i0.ɵɵtext(17, \"Cadastrar Unidades\");\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.unidadeNome);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.gestorSelecionado);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.usuariosgestor);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.tecnicoSelecionado);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.usuariostecnico);\n      }\n    },\n    dependencies: [i3.NgForOf, i2.RouterLink, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgModel],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","usuario_r2","usuarioID","ɵɵadvance","ɵɵtextInterpolate","nome","usuario_r3","UnidadeCadastrarComponent","constructor","client","router","usuariosgestor","usuariostecnico","ngOnInit","get","subscribe","next","data","filter","dado","cargo","error","erro","console","log","cadastrarUnidade","esquema","unidadeNome","usuariosId","gestorSelecionado","tecnicoSelecionado","post","navigate","_","ɵɵdirectiveInject","i1","HttpClient","i2","Router","_2","selectors","decls","vars","consts","template","UnidadeCadastrarComponent_Template","rf","ctx","ɵɵlistener","UnidadeCadastrarComponent_Template_input_ngModelChange_5_listener","$event","UnidadeCadastrarComponent_Template_select_ngModelChange_8_listener","ɵɵtemplate","UnidadeCadastrarComponent_option_9_Template","UnidadeCadastrarComponent_Template_select_ngModelChange_12_listener","UnidadeCadastrarComponent_option_13_Template","UnidadeCadastrarComponent_Template_button_click_14_listener"],"sources":["C:\\Users\\alexa\\OneDrive\\Área de Trabalho\\v2\\Projeto-Eplist\\FRONT\\src\\app\\pages\\Unidade\\unidade-cadastrar\\unidade-cadastrar.component.ts","C:\\Users\\alexa\\OneDrive\\Área de Trabalho\\v2\\Projeto-Eplist\\FRONT\\src\\app\\pages\\Unidade\\unidade-cadastrar\\unidade-cadastrar.component.html"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Unidade } from 'src/app/models/unidade.model';\nimport { Usuario } from 'src/app/models/usuario.model';\n\n@Component({\n  selector: 'app-unidade-cadastrar',\n  templateUrl: './unidade-cadastrar.component.html',\n  styleUrls: ['./unidade-cadastrar.component.css']\n})\nexport class UnidadeCadastrarComponent {\n\n  unidadeNome?: string;\n  gestorSelecionado?: number;\n  tecnicoSelecionado?: number;\n  //usuarios: Usuario[]=[]; // Suponha que você tenha uma lista de usuários aqui\n  usuariosgestor: Usuario[]=[]; // Suponha que você tenha uma lista de usuários aqui\n  usuariostecnico: Usuario[]=[]; // Suponha que você tenha uma lista de usuários aqui\n\n\n\n  constructor(private client: HttpClient,private router: Router) {}\n\n  ngOnInit() {\n    this.client.get<Usuario[]>(\"https://localhost:7144/EpiList/Usuario/listar\").subscribe({\n      next: (data) => {\n        //this.usuarios = data;\n        this.usuariosgestor = data.filter(dado => dado.cargo == \"gestor\")\n        this.usuariostecnico = data.filter(dado => dado.cargo == \"tecnico\")\n      },\n      error: (erro) => {\n        console.log(erro);\n      },\n    });\n  }\n\n  cadastrarUnidade() {\n    let esquema ={\n       nome : this.unidadeNome,\n       usuariosId: [this.gestorSelecionado, this.tecnicoSelecionado]\n    };\n    console.log(esquema)\n    this.client.post<Unidade>(\"https://localhost:7144/EpiList/Unidade/cadastrar\", esquema).subscribe({\n      next: (data) => {\n        console.log(data);\n        this.router.navigate(['pages/Epi/listar']);\n      },\n      error: (erro) => {\n        console.log(erro);\n      },\n    });\n\n  }\n\n\n}\n\n","<p>unidade-cadastrar works!</p>\n<div>\n    <label for=\"unidadeNome\">Nome da Unidade:</label>\n    <input id=\"unidadeNome\" [(ngModel)]=\"unidadeNome\" name=\"unidadeNome\" />\n  \n    <label for=\"gestor\">Gestor:</label>\n    <select id=\"gestor\" [(ngModel)]=\"gestorSelecionado\" name=\"gestor\">\n      <option *ngFor=\"let usuario of usuariosgestor\" [value]=\"usuario.usuarioID\">{{usuario.nome}}</option>\n    </select>\n  \n    <label for=\"tecnico\">Técnico:</label>\n    <select id=\"tecnico\" [(ngModel)]=\"tecnicoSelecionado\" name=\"tecnico\">\n      <option *ngFor=\"let usuario of usuariostecnico\" [value]=\"usuario.usuarioID\">{{usuario.nome}}</option>\n    </select>\n  \n    <button (click)=\"cadastrarUnidade()\">Cadastrar Unidade</button>\n  </div>\n\n  <a routerLink=\"/pages/Unidade/cadastrar\">Cadastrar Unidades</a>\n  \n  \n  \n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}