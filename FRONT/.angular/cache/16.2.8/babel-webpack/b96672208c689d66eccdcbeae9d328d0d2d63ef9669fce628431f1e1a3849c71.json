{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction EquipeCadastrarComponent_option_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const unidade_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", unidade_r2.unidadeID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(unidade_r2.nome);\n  }\n}\nfunction EquipeCadastrarComponent_option_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const usuario_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", usuario_r3.usuarioID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(usuario_r3.nome);\n  }\n}\nexport class EquipeCadastrarComponent {\n  constructor(client, router) {\n    this.client = client;\n    this.router = router;\n    this.unidades = [];\n    this.UsuarioLider = [];\n  }\n  ngOnInit() {\n    // Busque a lista de EPIS disponíveis\n    this.client.get(\"https://localhost:7144/EpiList/Unidade/listar\").subscribe(unidades => {\n      //this.episDisponiveis = epis;\n      this.unidades = unidades;\n      // Inicialize a variável episSelecionados para cada EPI\n    });\n\n    this.client.get(\"https://localhost:7144/EpiList/Usuario/listar\").subscribe({\n      //Requisição com sucesso\n      next: usuario => {\n        this.UsuarioLider = usuario.filter(usu => usu.cargo == \"supervisor\" && usu.equipe != null);\n        console.table(usuario);\n      },\n      //Requisição com erro\n      error: erro => {\n        console.log(erro);\n      }\n    });\n  }\n  cadastrarEquipe() {\n    let esquema = {\n      nomeEquipe: this.nomeEquipe,\n      unidadeID: this.unidadeID,\n      liderID: this.liderID\n    };\n    console.log(esquema);\n    this.client.post(\"https://localhost:7144/EpiList/Equipe/cadastrar\", esquema).subscribe({\n      next: data => {\n        console.log(data);\n        this.router.navigate(['pages/Epi/listar']);\n      },\n      error: erro => {\n        console.log(erro);\n      }\n    });\n  }\n  static #_ = this.ɵfac = function EquipeCadastrarComponent_Factory(t) {\n    return new (t || EquipeCadastrarComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: EquipeCadastrarComponent,\n    selectors: [[\"app-equipe-cadastrar\"]],\n    decls: 16,\n    vars: 5,\n    consts: [[\"for\", \"unidadeNome\"], [\"id\", \"unidadeNome\", \"name\", \"unidadeNome\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"gestor\"], [\"id\", \"gestor\", \"name\", \"gestor\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"tecnico\"], [\"id\", \"tecnico\", \"name\", \"tecnico\", 3, \"ngModel\", \"ngModelChange\"], [3, \"click\"], [3, \"value\"]],\n    template: function EquipeCadastrarComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p\");\n        i0.ɵɵtext(1, \"equipe-cadastrar works!\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\")(3, \"label\", 0);\n        i0.ɵɵtext(4, \"Nome da Equipe\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"input\", 1);\n        i0.ɵɵlistener(\"ngModelChange\", function EquipeCadastrarComponent_Template_input_ngModelChange_5_listener($event) {\n          return ctx.nomeEquipe = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"label\", 2);\n        i0.ɵɵtext(7, \"Unidade:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"select\", 3);\n        i0.ɵɵlistener(\"ngModelChange\", function EquipeCadastrarComponent_Template_select_ngModelChange_8_listener($event) {\n          return ctx.unidadeID = $event;\n        });\n        i0.ɵɵtemplate(9, EquipeCadastrarComponent_option_9_Template, 2, 2, \"option\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"label\", 5);\n        i0.ɵɵtext(11, \"T\\u00E9cnico:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"select\", 6);\n        i0.ɵɵlistener(\"ngModelChange\", function EquipeCadastrarComponent_Template_select_ngModelChange_12_listener($event) {\n          return ctx.tecnicoSelecionado = $event;\n        });\n        i0.ɵɵtemplate(13, EquipeCadastrarComponent_option_13_Template, 2, 2, \"option\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"button\", 7);\n        i0.ɵɵlistener(\"click\", function EquipeCadastrarComponent_Template_button_click_14_listener() {\n          return ctx.cadastrarUnidade();\n        });\n        i0.ɵɵtext(15, \"Cadastrar Unidade\");\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.nomeEquipe);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.unidadeID);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.unidades);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.tecnicoSelecionado);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.usuariostecnico);\n      }\n    },\n    dependencies: [i3.NgForOf, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgModel],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","unidade_r2","unidadeID","ɵɵadvance","ɵɵtextInterpolate","nome","usuario_r3","usuarioID","EquipeCadastrarComponent","constructor","client","router","unidades","UsuarioLider","ngOnInit","get","subscribe","next","usuario","filter","usu","cargo","equipe","console","table","error","erro","log","cadastrarEquipe","esquema","nomeEquipe","liderID","post","data","navigate","_","ɵɵdirectiveInject","i1","HttpClient","i2","Router","_2","selectors","decls","vars","consts","template","EquipeCadastrarComponent_Template","rf","ctx","ɵɵlistener","EquipeCadastrarComponent_Template_input_ngModelChange_5_listener","$event","EquipeCadastrarComponent_Template_select_ngModelChange_8_listener","ɵɵtemplate","EquipeCadastrarComponent_option_9_Template","EquipeCadastrarComponent_Template_select_ngModelChange_12_listener","tecnicoSelecionado","EquipeCadastrarComponent_option_13_Template","EquipeCadastrarComponent_Template_button_click_14_listener","cadastrarUnidade","usuariostecnico"],"sources":["C:\\Users\\Pichau\\Desktop\\v2\\Projeto-Eplist\\FRONT\\src\\app\\pages\\Equipe\\equipe-cadastrar\\equipe-cadastrar.component.ts","C:\\Users\\Pichau\\Desktop\\v2\\Projeto-Eplist\\FRONT\\src\\app\\pages\\Equipe\\equipe-cadastrar\\equipe-cadastrar.component.html"],"sourcesContent":["import { Usuario } from './../../../models/usuario.model';\nimport { HttpClient } from '@angular/common/http';\nimport { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Equipe } from 'src/app/models/equipe.model';\nimport { Unidade } from 'src/app/models/unidade.model';\n\n@Component({\n  selector: 'app-equipe-cadastrar',\n  templateUrl: './equipe-cadastrar.component.html',\n  styleUrls: ['./equipe-cadastrar.component.css']\n})\nexport class EquipeCadastrarComponent {\n  nomeEquipe!: string;\n  unidadeID!: number;\n  liderID!: number;\n  unidades : Unidade[] = [];\n  UsuarioLider: Usuario[]= [];\n  constructor(private client: HttpClient, private router: Router) {}\n  ngOnInit(): void {\n    // Busque a lista de EPIS disponíveis\n    this.client.get<Unidade[]>(\"https://localhost:7144/EpiList/Unidade/listar\").subscribe((unidades: Unidade[]) => {\n      //this.episDisponiveis = epis;\n      this.unidades = unidades;\n      // Inicialize a variável episSelecionados para cada EPI\n    });\n\n    this.client.get<Usuario[]>(\"https://localhost:7144/EpiList/Usuario/listar\")\n      .subscribe({\n        //Requisição com sucesso\n        next: (usuario) => {\n          this.UsuarioLider = usuario.filter(usu => usu.cargo == \"supervisor\"&& usu.equipe != null);\n          console.table(usuario);\n        }, \n        //Requisição com erro\n        error: (erro) => {\n          console.log(erro);\n        }\n      })\n  }\n  cadastrarEquipe() {\n    let esquema ={\n        nomeEquipe: this.nomeEquipe,\n        unidadeID: this.unidadeID,\n        liderID: this.liderID\n    };\n    console.log(esquema)\n    this.client.post<Equipe>(\"https://localhost:7144/EpiList/Equipe/cadastrar\", esquema).subscribe({\n      next: (data) => {\n        console.log(data);\n        this.router.navigate(['pages/Epi/listar']);\n      },\n      error: (erro) => {\n        console.log(erro);\n      },\n    });\n\n  }\n}\n","<p>equipe-cadastrar works!</p>\n<div>\n    <label for=\"unidadeNome\">Nome da Equipe</label>\n    <input id=\"unidadeNome\" [(ngModel)]=\"nomeEquipe\" name=\"unidadeNome\" />\n  \n    <label for=\"gestor\">Unidade:</label>\n    <select id=\"gestor\" [(ngModel)]=\"unidadeID\" name=\"gestor\">\n      <option *ngFor=\"let unidade of unidades\" [value]=\"unidade.unidadeID\">{{unidade.nome}}</option>\n    </select>\n  \n    <label for=\"tecnico\">Técnico:</label>\n    <select id=\"tecnico\" [(ngModel)]=\"tecnicoSelecionado\" name=\"tecnico\">\n      <option *ngFor=\"let usuario of usuariostecnico\" [value]=\"usuario.usuarioID\">{{usuario.nome}}</option>\n    </select>\n  \n    <button (click)=\"cadastrarUnidade()\">Cadastrar Unidade</button>\n  </div>\n"],"mappings":";;;;;;;ICOMA,EAAA,CAAAC,cAAA,gBAAqE;IAAAD,EAAA,CAAAE,MAAA,GAAgB;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;;IAArDH,EAAA,CAAAI,UAAA,UAAAC,UAAA,CAAAC,SAAA,CAA2B;IAACN,EAAA,CAAAO,SAAA,GAAgB;IAAhBP,EAAA,CAAAQ,iBAAA,CAAAH,UAAA,CAAAI,IAAA,CAAgB;;;;;IAKrFT,EAAA,CAAAC,cAAA,gBAA4E;IAAAD,EAAA,CAAAE,MAAA,GAAgB;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;;IAArDH,EAAA,CAAAI,UAAA,UAAAM,UAAA,CAAAC,SAAA,CAA2B;IAACX,EAAA,CAAAO,SAAA,GAAgB;IAAhBP,EAAA,CAAAQ,iBAAA,CAAAE,UAAA,CAAAD,IAAA,CAAgB;;;ADAlG,OAAM,MAAOG,wBAAwB;EAMnCC,YAAoBC,MAAkB,EAAUC,MAAc;IAA1C,KAAAD,MAAM,GAANA,MAAM;IAAsB,KAAAC,MAAM,GAANA,MAAM;IAFtD,KAAAC,QAAQ,GAAe,EAAE;IACzB,KAAAC,YAAY,GAAa,EAAE;EACsC;EACjEC,QAAQA,CAAA;IACN;IACA,IAAI,CAACJ,MAAM,CAACK,GAAG,CAAY,+CAA+C,CAAC,CAACC,SAAS,CAAEJ,QAAmB,IAAI;MAC5G;MACA,IAAI,CAACA,QAAQ,GAAGA,QAAQ;MACxB;IACF,CAAC,CAAC;;IAEF,IAAI,CAACF,MAAM,CAACK,GAAG,CAAY,+CAA+C,CAAC,CACxEC,SAAS,CAAC;MACT;MACAC,IAAI,EAAGC,OAAO,IAAI;QAChB,IAAI,CAACL,YAAY,GAAGK,OAAO,CAACC,MAAM,CAACC,GAAG,IAAIA,GAAG,CAACC,KAAK,IAAI,YAAY,IAAGD,GAAG,CAACE,MAAM,IAAI,IAAI,CAAC;QACzFC,OAAO,CAACC,KAAK,CAACN,OAAO,CAAC;MACxB,CAAC;MACD;MACAO,KAAK,EAAGC,IAAI,IAAI;QACdH,OAAO,CAACI,GAAG,CAACD,IAAI,CAAC;MACnB;KACD,CAAC;EACN;EACAE,eAAeA,CAAA;IACb,IAAIC,OAAO,GAAE;MACTC,UAAU,EAAE,IAAI,CAACA,UAAU;MAC3B5B,SAAS,EAAE,IAAI,CAACA,SAAS;MACzB6B,OAAO,EAAE,IAAI,CAACA;KACjB;IACDR,OAAO,CAACI,GAAG,CAACE,OAAO,CAAC;IACpB,IAAI,CAACnB,MAAM,CAACsB,IAAI,CAAS,iDAAiD,EAAEH,OAAO,CAAC,CAACb,SAAS,CAAC;MAC7FC,IAAI,EAAGgB,IAAI,IAAI;QACbV,OAAO,CAACI,GAAG,CAACM,IAAI,CAAC;QACjB,IAAI,CAACtB,MAAM,CAACuB,QAAQ,CAAC,CAAC,kBAAkB,CAAC,CAAC;MAC5C,CAAC;MACDT,KAAK,EAAGC,IAAI,IAAI;QACdH,OAAO,CAACI,GAAG,CAACD,IAAI,CAAC;MACnB;KACD,CAAC;EAEJ;EAAC,QAAAS,CAAA,G;qBA7CU3B,wBAAwB,EAAAZ,EAAA,CAAAwC,iBAAA,CAAAC,EAAA,CAAAC,UAAA,GAAA1C,EAAA,CAAAwC,iBAAA,CAAAG,EAAA,CAAAC,MAAA;EAAA;EAAA,QAAAC,EAAA,G;UAAxBjC,wBAAwB;IAAAkC,SAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,kCAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCZrCpD,EAAA,CAAAC,cAAA,QAAG;QAAAD,EAAA,CAAAE,MAAA,8BAAuB;QAAAF,EAAA,CAAAG,YAAA,EAAI;QAC9BH,EAAA,CAAAC,cAAA,UAAK;QACwBD,EAAA,CAAAE,MAAA,qBAAc;QAAAF,EAAA,CAAAG,YAAA,EAAQ;QAC/CH,EAAA,CAAAC,cAAA,eAAsE;QAA9CD,EAAA,CAAAsD,UAAA,2BAAAC,iEAAAC,MAAA;UAAA,OAAAH,GAAA,CAAAnB,UAAA,GAAAsB,MAAA;QAAA,EAAwB;QAAhDxD,EAAA,CAAAG,YAAA,EAAsE;QAEtEH,EAAA,CAAAC,cAAA,eAAoB;QAAAD,EAAA,CAAAE,MAAA,eAAQ;QAAAF,EAAA,CAAAG,YAAA,EAAQ;QACpCH,EAAA,CAAAC,cAAA,gBAA0D;QAAtCD,EAAA,CAAAsD,UAAA,2BAAAG,kEAAAD,MAAA;UAAA,OAAAH,GAAA,CAAA/C,SAAA,GAAAkD,MAAA;QAAA,EAAuB;QACzCxD,EAAA,CAAA0D,UAAA,IAAAC,0CAAA,oBAA8F;QAChG3D,EAAA,CAAAG,YAAA,EAAS;QAETH,EAAA,CAAAC,cAAA,gBAAqB;QAAAD,EAAA,CAAAE,MAAA,qBAAQ;QAAAF,EAAA,CAAAG,YAAA,EAAQ;QACrCH,EAAA,CAAAC,cAAA,iBAAqE;QAAhDD,EAAA,CAAAsD,UAAA,2BAAAM,mEAAAJ,MAAA;UAAA,OAAAH,GAAA,CAAAQ,kBAAA,GAAAL,MAAA;QAAA,EAAgC;QACnDxD,EAAA,CAAA0D,UAAA,KAAAI,2CAAA,oBAAqG;QACvG9D,EAAA,CAAAG,YAAA,EAAS;QAETH,EAAA,CAAAC,cAAA,iBAAqC;QAA7BD,EAAA,CAAAsD,UAAA,mBAAAS,2DAAA;UAAA,OAASV,GAAA,CAAAW,gBAAA,EAAkB;QAAA,EAAC;QAAChE,EAAA,CAAAE,MAAA,yBAAiB;QAAAF,EAAA,CAAAG,YAAA,EAAS;;;QAZvCH,EAAA,CAAAO,SAAA,GAAwB;QAAxBP,EAAA,CAAAI,UAAA,YAAAiD,GAAA,CAAAnB,UAAA,CAAwB;QAG5BlC,EAAA,CAAAO,SAAA,GAAuB;QAAvBP,EAAA,CAAAI,UAAA,YAAAiD,GAAA,CAAA/C,SAAA,CAAuB;QACbN,EAAA,CAAAO,SAAA,GAAW;QAAXP,EAAA,CAAAI,UAAA,YAAAiD,GAAA,CAAArC,QAAA,CAAW;QAIpBhB,EAAA,CAAAO,SAAA,GAAgC;QAAhCP,EAAA,CAAAI,UAAA,YAAAiD,GAAA,CAAAQ,kBAAA,CAAgC;QACvB7D,EAAA,CAAAO,SAAA,GAAkB;QAAlBP,EAAA,CAAAI,UAAA,YAAAiD,GAAA,CAAAY,eAAA,CAAkB"},"metadata":{},"sourceType":"module","externalDependencies":[]}