{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nexport class EquipeCadastrarComponent {\n  constructor(client, router) {\n    this.client = client;\n    this.router = router;\n    this.unidades = [];\n    this.UsuarioLider = [];\n  }\n  ngOnInit() {\n    // Busque a lista de EPIS disponíveis\n    this.client.get(\"https://localhost:7144/EpiList/Unidade/listar\").subscribe(unidades => {\n      //this.episDisponiveis = epis;\n      this.unidades = unidades;\n      // Inicialize a variável episSelecionados para cada EPI\n    });\n\n    this.client.get(\"https://localhost:7144/EpiList/Usuario/listar\").subscribe({\n      //Requisição com sucesso\n      next: usuario => {\n        this.UsuarioLider = usuario.filter(usu => usu.cargo == \"supervisor\" && usu.equipe != null);\n        console.table(usuario);\n      },\n      //Requisição com erro\n      error: erro => {\n        console.log(erro);\n      }\n    });\n  }\n  cadastrarEquipe() {\n    let esquema = {\n      \"nomeEquipe\": \"alfa\",\n      \"unidadeID\": 5,\n      \"liderID\": 18,\n      nome: this.unidadeNome,\n      usuariosId: [this.gestorSelecionado, this.tecnicoSelecionado]\n    };\n    console.log(esquema);\n    this.client.post(\"https://localhost:7144/EpiList/Unidade/cadastrar\", esquema).subscribe({\n      next: data => {\n        console.log(data);\n        this.router.navigate(['pages/Epi/listar']);\n      },\n      error: erro => {\n        console.log(erro);\n      }\n    });\n  }\n  static #_ = this.ɵfac = function EquipeCadastrarComponent_Factory(t) {\n    return new (t || EquipeCadastrarComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: EquipeCadastrarComponent,\n    selectors: [[\"app-equipe-cadastrar\"]],\n    decls: 2,\n    vars: 0,\n    template: function EquipeCadastrarComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p\");\n        i0.ɵɵtext(1, \"equipe-cadastrar works!\");\n        i0.ɵɵelementEnd();\n      }\n    },\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["EquipeCadastrarComponent","constructor","client","router","unidades","UsuarioLider","ngOnInit","get","subscribe","next","usuario","filter","usu","cargo","equipe","console","table","error","erro","log","cadastrarEquipe","esquema","nome","unidadeNome","usuariosId","gestorSelecionado","tecnicoSelecionado","post","data","navigate","_","i0","ɵɵdirectiveInject","i1","HttpClient","i2","Router","_2","selectors","decls","vars","template","EquipeCadastrarComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd"],"sources":["C:\\Users\\Pichau\\Desktop\\v2\\Projeto-Eplist\\FRONT\\src\\app\\pages\\Equipe\\equipe-cadastrar\\equipe-cadastrar.component.ts","C:\\Users\\Pichau\\Desktop\\v2\\Projeto-Eplist\\FRONT\\src\\app\\pages\\Equipe\\equipe-cadastrar\\equipe-cadastrar.component.html"],"sourcesContent":["import { Usuario } from './../../../models/usuario.model';\nimport { HttpClient } from '@angular/common/http';\nimport { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Unidade } from 'src/app/models/unidade.model';\n\n@Component({\n  selector: 'app-equipe-cadastrar',\n  templateUrl: './equipe-cadastrar.component.html',\n  styleUrls: ['./equipe-cadastrar.component.css']\n})\nexport class EquipeCadastrarComponent {\n  nomeEquipe!: string;\n  unidadeID!: number;\n  liderID!: number;\n  unidades : Unidade[] = [];\n  UsuarioLider: Usuario[]= [];\n  constructor(private client: HttpClient, private router: Router) {}\n  ngOnInit(): void {\n    // Busque a lista de EPIS disponíveis\n    this.client.get<Unidade[]>(\"https://localhost:7144/EpiList/Unidade/listar\").subscribe((unidades: Unidade[]) => {\n      //this.episDisponiveis = epis;\n      this.unidades = unidades;\n      // Inicialize a variável episSelecionados para cada EPI\n    });\n\n    this.client.get<Usuario[]>(\"https://localhost:7144/EpiList/Usuario/listar\")\n      .subscribe({\n        //Requisição com sucesso\n        next: (usuario) => {\n          this.UsuarioLider = usuario.filter(usu => usu.cargo == \"supervisor\"&& usu.equipe != null);\n          console.table(usuario);\n        }, \n        //Requisição com erro\n        error: (erro) => {\n          console.log(erro);\n        }\n      })\n  }\n  cadastrarEquipe() {\n    let esquema ={\n      \n        \"nomeEquipe\": \"alfa\",\n        \"unidadeID\": 5,\n        \"liderID\": 18\n      \n       nome : this.unidadeNome,\n       usuariosId: [this.gestorSelecionado, this.tecnicoSelecionado]\n    };\n    console.log(esquema)\n    this.client.post<Unidade>(\"https://localhost:7144/EpiList/Unidade/cadastrar\", esquema).subscribe({\n      next: (data) => {\n        console.log(data);\n        this.router.navigate(['pages/Epi/listar']);\n      },\n      error: (erro) => {\n        console.log(erro);\n      },\n    });\n\n  }\n}\n","<p>equipe-cadastrar works!</p>\n"],"mappings":";;;AAWA,OAAM,MAAOA,wBAAwB;EAMnCC,YAAoBC,MAAkB,EAAUC,MAAc;IAA1C,KAAAD,MAAM,GAANA,MAAM;IAAsB,KAAAC,MAAM,GAANA,MAAM;IAFtD,KAAAC,QAAQ,GAAe,EAAE;IACzB,KAAAC,YAAY,GAAa,EAAE;EACsC;EACjEC,QAAQA,CAAA;IACN;IACA,IAAI,CAACJ,MAAM,CAACK,GAAG,CAAY,+CAA+C,CAAC,CAACC,SAAS,CAAEJ,QAAmB,IAAI;MAC5G;MACA,IAAI,CAACA,QAAQ,GAAGA,QAAQ;MACxB;IACF,CAAC,CAAC;;IAEF,IAAI,CAACF,MAAM,CAACK,GAAG,CAAY,+CAA+C,CAAC,CACxEC,SAAS,CAAC;MACT;MACAC,IAAI,EAAGC,OAAO,IAAI;QAChB,IAAI,CAACL,YAAY,GAAGK,OAAO,CAACC,MAAM,CAACC,GAAG,IAAIA,GAAG,CAACC,KAAK,IAAI,YAAY,IAAGD,GAAG,CAACE,MAAM,IAAI,IAAI,CAAC;QACzFC,OAAO,CAACC,KAAK,CAACN,OAAO,CAAC;MACxB,CAAC;MACD;MACAO,KAAK,EAAGC,IAAI,IAAI;QACdH,OAAO,CAACI,GAAG,CAACD,IAAI,CAAC;MACnB;KACD,CAAC;EACN;EACAE,eAAeA,CAAA;IACb,IAAIC,OAAO,GAAE;MAET,YAAY,EAAE,MAAM;MACpB,WAAW,EAAE,CAAC;MACd,SAAS,EAAE,EAAE;MAEdC,IAAI,EAAG,IAAI,CAACC,WAAW;MACvBC,UAAU,EAAE,CAAC,IAAI,CAACC,iBAAiB,EAAE,IAAI,CAACC,kBAAkB;KAC9D;IACDX,OAAO,CAACI,GAAG,CAACE,OAAO,CAAC;IACpB,IAAI,CAACnB,MAAM,CAACyB,IAAI,CAAU,kDAAkD,EAAEN,OAAO,CAAC,CAACb,SAAS,CAAC;MAC/FC,IAAI,EAAGmB,IAAI,IAAI;QACbb,OAAO,CAACI,GAAG,CAACS,IAAI,CAAC;QACjB,IAAI,CAACzB,MAAM,CAAC0B,QAAQ,CAAC,CAAC,kBAAkB,CAAC,CAAC;MAC5C,CAAC;MACDZ,KAAK,EAAGC,IAAI,IAAI;QACdH,OAAO,CAACI,GAAG,CAACD,IAAI,CAAC;MACnB;KACD,CAAC;EAEJ;EAAC,QAAAY,CAAA,G;qBAjDU9B,wBAAwB,EAAA+B,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,UAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,MAAA;EAAA;EAAA,QAAAC,EAAA,G;UAAxBrC,wBAAwB;IAAAsC,SAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,QAAA,WAAAC,kCAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCXrCZ,EAAA,CAAAc,cAAA,QAAG;QAAAd,EAAA,CAAAe,MAAA,8BAAuB;QAAAf,EAAA,CAAAgB,YAAA,EAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}